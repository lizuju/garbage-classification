# 🗑️ YOLOv5 垃圾分类识别系统

本项目是一个**前后端分离的垃圾分类识别平台**，基于 YOLOv5 目标检测模型，提供完整的用户体系、管理员后台、日志与统计、历史记录管理以及模型训练与迭代流程。适用于毕业设计、科研验证与工程化落地。

---

## 🧭 系统介绍

该系统围绕“**垃圾图像上传 → YOLOv5 识别 → 分类结果展示 → 记录与管理**”的完整链路构建，覆盖了从模型训练到业务落地的主要环节：

- **模型层**：YOLOv5 目标检测负责识别四类垃圾（可回收、有害、厨余、其他），具备快速推理与较高准确率。
- **服务层**：Flask 后端提供 REST API，承担身份认证、检测调用、记录管理、日志审计等核心逻辑。
- **交互层**：Vue 3 前端提供用户端与管理员端界面，包含识别、历史、资料修改、管理后台等功能。

系统既适合作为“AI+业务”的工程实践，也可作为课程设计/毕业设计的完整方案。

---

## ✨ 项目亮点

- **YOLOv5 高性能检测**：端到端检测流程，支持多类垃圾识别与高效推理。
- **前后端分离架构**：前端 Vue 3 + Vite，后端 Flask，部署与扩展更灵活。
- **前端 UI 设计突出**：界面风格统一、玻璃拟态卡片、动效与过渡自然，整体体验更接近工业级产品。
- **多角色权限体系**：管理员/普通用户分级管理，权限边界清晰。
- **完整后台管理闭环**：用户管理、操作日志、统计面板、数据导出齐全。
- **回收地图智能导航**：集成高德地图，支持附近回收点检索、筛选、详情展示与导航跳转。
- **可迭代训练体系**：支持自定义数据集训练与权重更新，便于模型持续优化。
- **工程化可维护**：结构清晰，模块划分明确，适合二次开发与功能扩展。

---

## 🎨 前端 UI 风格与交互设计

- **整体视觉统一**：组件风格一致，配色克制且清晰，信息层级明确  
- **卡片玻璃拟态**：重点内容采用玻璃拟态卡片，提升质感  
- **动效过渡自然**：页面切换、弹窗进入、列表交互具有柔和过渡  
- **可读性优先**：字体与间距经过统一设计，减少视觉噪声  
- **移动端适配**：关键模块支持响应式布局，保证移动端体验  

---

## 🗺️ 回收地图功能

- **登录后可用**：与识别检测一致，未登录用户触发登录引导，保证功能权限一致性。  
- **地图能力**：接入高德地图，支持定位、地图展示与“重新定位并搜索”。  
- **检索范围可调**：支持 `1km / 3km / 5km / 10km / 15km` 半径搜索。  
- **分类筛选**：支持“全部回收点、可回收物、厨余垃圾、有害垃圾、其他垃圾”筛选。  
- **交互联动**：点击列表项可联动地图 Marker 高亮，点击 Marker 也会同步选中列表项。  
- **详情增强**：选中回收点展示地址、电话、营业时间、评分、区域、距离等信息。  
- **导航能力**：支持一键“进入导航”，跳转高德导航链接。  
- **体验优化**：地图加载遮罩、选中态动画、卡片化信息布局与移动端适配。  

---

## ✅ 环境要求

**后端（Flask）**
- Python 3.8+
- pip / virtualenv
- 常用依赖：Flask、SQLAlchemy、PyJWT 等

**前端（Vue 3）**
- Node.js 16+（建议 18+）
- npm 8+
- Vite 构建工具
- 高德地图 Web API Key（用于回收地图能力）

**模型训练（YOLOv5-6.2）**
- PyTorch
- CUDA（可选，GPU 加速）
- 训练数据需满足 YOLO 数据集格式

---

## 📁 完整项目结构

```
Garbage_classification_Yolov5/
│
├── README.md
├── garbage.yaml
├── LICENSE
├── run_detect.sh
├── uploads/
│   └── results/
│
├── datasets/
│   ├── coco128/
│   ├── wangy/
│   └── best.pt
│
├── garbage_classification/
│   ├── __init__.py
│   └── backend/
│       ├── app.py
│       ├── config.py
│       ├── extensions.py
│       ├── models/
│       ├── routes/
│       ├── services/
│       ├── utils/
│       ├── templates/
│       ├── static/
│       ├── uploads/
│       └── instance/
│
├── garbage_classification_frontend/
│   ├── README.md
│   ├── index.html
│   ├── package.json
│   ├── package-lock.json
│   ├── vite.config.js
│   ├── public/
│   └── src/
│       ├── App.vue
│       ├── main.js
│       ├── assets/
│       ├── components/
│       ├── composables/
│       │   └── useRecycleMap.js
│       ├── config/
│       │   └── recycleMapConfig.js
│       ├── pages/
│       │   └── RecycleMapPage.vue
│       ├── router/
│       ├── services/
│       │   └── amapService.js
│       ├── styles/
│       │   └── pages/recycle-map.css
│       └── directives/
│
└── yolov5-6.2/
    ├── detect.py
    ├── train.py
    ├── val.py
    ├── export.py
    ├── requirements.txt
    ├── models/
    ├── utils/
    ├── data/
    ├── runs/
    └── weights/
```

---

## 🚀 部署流程

### 1) 启动后端
```bash
python -m garbage_classification.backend.app
```

### 2) 启动前端
```bash
cd garbage_classification_frontend
npm run dev
```

---

## 🧠 训练模型流程

1. **准备数据集**
   - 按 YOLO 数据格式准备 `images/` 与 `labels/`
   - `labels` 为 YOLO 标准格式（类别 + 归一化坐标）

2. **配置数据集文件**
   - 修改 `garbage.yaml`（训练/验证路径与类别）

3. **启动训练**
   - 进入 `yolov5-6.2/` 目录执行训练脚本

4. **产出权重与替换**
   - 训练完成后，将权重文件替换到后端模型加载路径
   - 即可更新线上识别效果

> 该流程支持多次迭代训练，适合模型持续优化。

---

## 🔐 权限与安全策略

- JWT 认证保护关键接口
- 管理员与用户权限隔离
- 管理员不可禁用（后端校验）
- 最后一个管理员不可降级
- 登录状态与接口权限严格区分，避免越权访问
- 关键行为写入日志，便于审计与追踪

---

## 📊 统计与监控

- 统计面板包含检测量、用户数、活跃度、平均置信度
- 支持操作日志审计，管理员可追踪关键行为
- 数据导出支持运营与模型分析
- 管理后台支持多维度系统状态查看

---

## 🧪 测试建议

**核心流程测试**
- 注册 / 登录 / 记住我 / 注销
- 图片上传与识别
- 历史记录生成与查询
- 个人资料修改与密码变更

**管理后台测试**
- 用户编辑 / 禁用 / 恢复
- 权限限制（普通用户访问后台）
- 数据统计与导出
- 日志列表分页

---

## ⭐ YOLOv5 模型识别优势

- **高精度识别**：支持多类别垃圾分类检测
- **实时推理**：适合实际场景快速响应
- **可扩展性强**：支持替换权重文件进行升级
- **工程化成熟**：生态完善，适合稳定部署

---

## 📄 许可证

本项目遵循仓库内 `LICENSE` 约束。
